<!DOCTYPE html>
<html><head><title>Transducer Nets</title><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><script src="https://cdn.tailwindcss.com?plugins=typography" type="text/javascript"></script><script>tailwind.config = {
  content: ["./public/build/index.html", "./public/build/**/*.html", "./build/viewer.js"],
  theme: {
    extend: {},
    fontFamily: {
      sans: ["Fira Sans", "-apple-system", "BlinkMacSystemFont", "sans-serif"],
      serif: ["PT Serif", "serif"],
      mono: ["Fira Mono", "monospace"]
    }
  },
  variants: {
    extend: {},
  },
  plugins: [],
}
</script><style type="text/tailwindcss">@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-size: 18px;
  }
  @media (max-width: 600px) {
    html {
      font-size: 16px;
    }
  }
  .font-condensed { font-family: "Fira Sans Condensed", sans-serif; }
  .font-inter     { font-family: "Inter", sans-serif; }
  body {
    @apply font-serif antialiased text-gray-900 sm:overscroll-y-none;
  }
  code, .code {
    @apply font-mono text-sm text-gray-900 bg-slate-50 px-0.5 py-px rounded;
  }
  code::before, code::after { @apply content-none !important; }
  h1, h2, h3, h4, h5, h6 {
    @apply font-condensed font-bold mt-8 first:mt-0;
  }
  h1 { @apply text-4xl; }
  h2 { @apply text-3xl; }
  h3 { @apply text-2xl; }
  h4 { @apply text-xl; }
  h5 { @apply text-lg; }
  h6 { @apply text-base; }

  button { @apply focus:outline-none; }
  strong { @apply font-bold; }
  em     { @apply italic; }
  pre    { @apply m-0 font-mono; }
}

/* Compatibility */
/* --------------------------------------------------------------- */
/* TODO: Verify which colors are in use and replace with Tailwind
   colors accordingly. Move Nj-specific styles out of here. */

:root {
  --teal-color: #31afd0;
  --dark-teal-color: #095960;
  --near-black-color: #2e2e2c;
  --red-color: #d64242;
  --dark-blue-color: #1f2937;
  --dark-blue-60-color: rgba(28, 42, 56, 0.6);
  --gray-panel-color: rgba(239, 241, 245, 1.000);
  --brand-color: var(--dark-blue-color);
  --link-color: #5046e4;
  --command-bar-selected-color: var(--teal-color);
}

.serif      { @apply font-serif; }
.sans-serif { @apply font-sans; }
.monospace  { @apply font-mono; }
.inter      { @apply font-inter; }

.border-color-teal { border-color: var(--dark-teal-color); }
.teal { color: var(--teal-color); }
.bg-dark-blue { background: var(--dark-blue-color); }
.bg-dark-blue-60 { background: rgba(28, 42, 56, 0.6); }
.bg-gray-panel { background: var(--gray-panel-color); }
.text-dark-blue  { color: var(--dark-blue-color); }
.text-dark-blue-60 { color: var(--dark-blue-60-color); }
.border-dark-blue-30 { border-color: rgba(28, 42, 56, 0.6); }
.text-brand { color: var(--dark-blue-color); }
.bg-brand { background: var(--dark-blue-color); }
.text-selected { color: white; }
.red { color: var(--red-color); }

/* Disclose Button */
/* --------------------------------------------------------------- */

.disclose {
  @apply content-none border-solid cursor-pointer inline-block relative mr-[3px] top-[-2px] transition-all;
  border-color: var(--near-black-color) transparent;
  border-width: 6px 4px 0;
}
.disclose:hover {
  border-color: var(--near-black-color) transparent;
}
.disclose.collapsed {
  @apply rotate-[-90deg];
}

/* Layout */
/* --------------------------------------------------------------- */

.page {
  @apply max-w-5xl mx-auto px-12 box-border flex-shrink-0;
}
.toc-content {
  @apply translate-x-[-110%] opacity-0;
}
.toc:hover .toc-content,
.toc.pinned .toc-content {
  @apply translate-x-0 opacity-100;
}
.max-w-prose { @apply max-w-[46rem] !important; }
.max-w-wide  { @apply max-w-3xl !important; }

/* List Styles */
/* --------------------------------------------------------------- */

.task-list-item + .task-list-item,
.viewer-markdown ul .task-list-item ul {
  @apply mt-1;
}

/* Code Viewer */
/* --------------------------------------------------------------- */

.viewer-code {
  @apply font-mono bg-slate-100 rounded-sm py-4 px-8 text-sm mt-4 overflow-x-auto;
}
@media (min-width: 960px){
  .viewer-notebook .viewer-code {
    @apply py-4 pl-12;
  }
}
/* Donâ€™t show focus outline when double-clicking cell in Safari */
.cm-scroller { @apply focus:outline-none; }

/* Data Viewer */
/* --------------------------------------------------------------- */

.inspected-value { @apply text-xs font-mono; }

.syntax-tag, .cm-number, .syntax-number, .cm-string, .syntax-string,
.cm-atom, .syntax-keyword, .cm-builtin, .cm-keyword, .syntax-symbol,
.syntax-bool, .syntax-nil, .syntax-untyped, .syntax-key, .syntax-index {
  @apply font-mono;
}

.syntax-tag     { @apply text-pink-900 !important; }
.cm-number      { @apply text-sky-900 !important; }
.syntax-number  { @apply text-sky-900 !important; }
.cm-string      { @apply text-teal-700 !important; }
.syntax-string  { @apply text-teal-700 !important; }
.cm-atom        { @apply text-sky-900 !important; }
.syntax-keyword { @apply text-sky-900 !important; }
.cm-builtin     { @apply text-pink-900 !important; }
.cm-keyword     { @apply text-pink-900 !important; }
.syntax-symbol  { @apply text-pink-900 !important; }
.syntax-bool    { @apply text-sky-900 !important; }
.syntax-nil     { @apply text-sky-900 !important; }
.syntax-untyped { @apply text-rose-500 !important; }
.syntax-key     { @apply text-fuchsia-900 !important; }
.syntax-index   { @apply text-fuchsia-900 !important; }

.syntax-untyped { @apply whitespace-nowrap; }

.result-data {
  @apply font-mono text-sm overflow-x-auto whitespace-nowrap leading-normal;
}
.result-data::-webkit-scrollbar, .path-nav::-webkit-scrollbar {
  @apply h-0;
}
.result-data-collapsed {
  @apply whitespace-nowrap;
}
.result-data-field {
  @apply ml-4 whitespace-nowrap;
}
.result-data-field-link{
  @apply ml-4 whitespace-nowrap cursor-pointer;
}
.result-data-field-link:hover {
  @apply text-black bg-black/5;
}
.result-text-empty {
  color: rgba(0,0,0,.3);
}
.browsify-button:hover {
  box-shadow: -2px 0 0 2px #edf2f7;
}

/* Prose */
/* --------------------------------------------------------------- */

.viewer-notebook,
.viewer-markdown {
  @apply prose
    prose-a:text-indigo-600 prose-a:font-medium prose-a:no-underline hover:prose-a:underline
    prose-p:mt-4 prose-p:leading-snug
    prose-ol:mt-4 prose-ol:mb-6 prose-ol:leading-snug
    prose-ul:mt-4 prose-ul:mb-6 prose-ul:leading-snug
    prose-blockquote:mt-4 prose-blockquote:leading-snug
    prose-hr:mt-6 prose-hr:border-t-2 prose-hr:border-solid prose-hr:border-slate-200
    prose-figure:mt-4
    prose-figcaption:mt-2 prose-figcaption:text-xs
    prose-headings:mb-6
    prose-th:mb-0
    prose-img:mb-0
    max-w-none;
}
.viewer-markdown li > p {
  @apply inline;
}

/* Todo Lists */
/* --------------------------------------------------------------- */

.contains-task-list {
  @apply pl-6 list-none;
}
.contains-task-list li p {
  @apply inline m-0;
}
.contains-task-list input[type="checkbox"] {
  @apply appearance-none h-4 w-4 rounded border border-slate-200 relative mr-[0.3rem] ml-[-1.5rem] top-[0.15rem];
}
.contains-task-list input[type="checkbox"]:checked {
  @apply border-indigo-600 bg-indigo-600 bg-no-repeat bg-contain;
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
}

/* Markdown TOC */
/* --------------------------------------------------------------- */

.viewer-markdown .toc      { @apply mt-4; }
.viewer-markdown h1 + .toc { @apply mt-8; }

.viewer-markdown .toc h1,
.viewer-markdown .toc h2,
.viewer-markdown .toc h3,
.viewer-markdown .toc h4,
.viewer-markdown .toc h5,
.viewer-markdown .toc h6 {
  @apply text-base text-indigo-600 font-sans my-0;
}
.viewer-markdown .toc a {
  @apply text-indigo-600 font-normal no-underline hover:underline;
}
.viewer-markdown .toc li    { @apply m-0; }
.viewer-markdown .toc ul ul { @apply pl-4; }

/* Notebook Spacing */
/* --------------------------------------------------------------- */

.viewer-notebook { @apply py-16; }
.viewer-markdown *:first-child:not(.viewer-code) { @apply mt-0; }
.viewer + .viewer { @apply mt-6; }
.viewer-markdown + .viewer { @apply mt-3; }
.viewer-markdown + .viewer-markdown { @apply mt-0; }

/* Sidenotes */
/* --------------------------------------------------------------- */

.sidenote-ref {
  @apply top-[-3px] inline-flex justify-center items-center w-[18px] h-[18px]
    rounded-full bg-slate-100 border border-slate-300 hover:bg-slate-200 hover:border-slate-300
    m-0 ml-[4px] cursor-pointer;
}
.sidenote {
  @apply hidden float-left clear-both mx-[2.5%] my-4 text-xs relative w-[95%];
}
.sidenote-ref.expanded + .sidenote {
  @apply block;
}
@media (min-width: 860px) {
  .sidenote-ref {
    @apply top-[-0.5em] w-auto h-auto inline border-0 bg-transparent m-0 pointer-events-none;
  }
  .sidenote sup { @apply inline; }
  .viewer-markdown .contains-sidenotes p { @apply max-w-[65%]; }
  .viewer-markdown p .sidenote {
    @apply mr-[-54%] mt-[0.2rem] w-1/2 float-right clear-right relative block;
  }
}
.viewer-code + .viewer:not(.viewer-markdown):not(.viewer-code):not(.viewer-code-folded),
.viewer-code-folded + .viewer:not(.viewer-markdown):not(.viewer-code):not(.viewer-code-folded),
.viewer-result + .viewer-result {
  @apply mt-2;
}
@media (min-width: 768px) {
  .devcard-desc > div {
    @apply max-w-full m-0;
  }
}

/* Command Palette */
/* --------------------------------------------------------------- */

.nj-commands-input {
  @apply bg-transparent text-white;
}
.nj-context-menu-item:hover:not([disabled]) {
  @apply cursor-pointer;
  background-color: rgba(255,255,255,.14);
}

/* Devdocs */
/* --------------------------------------------------------------- */

.collapsed-sidebar:not(.mobile-sidebar) .sidebar-content {
  @apply transition-all duration-200 ml-[-360px] opacity-0;
}
.collapsed-sidebar:hover:not(.mobile-sidebar) .sidebar-content {
  @apply ml-0 opacity-100;
}
.logo, .logo-white {
  @apply block indent-[-999em];
  background: url(/images/nextjournal-logo.svg) center center no-repeat;
}
.devdocs-body {
  @apply font-inter;
}

/* Workarounds */
/* --------------------------------------------------------------- */

/* Fixes vega viewer resizing into infinity */
.vega-embed .chart-wrapper { @apply h-auto !important; }
/* fixes fraction separators being overridden by twâ€™s border-color */
.katex * { @apply border-black; }
</style><script src="https://storage.googleapis.com/nextjournal-cas-eu/data/8VtrAyT1tkNwAPZyFu4amwY7s9rMteumpHLJUHWj4hhaAn7NxQnM1u9C5r9p37ZaEJ656h6Dh7NxGgHU6ztkNqEsnQ" type="text/javascript"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&amp;family=Fira+Mono:wght@400;700&amp;family=Fira+Sans+Condensed:ital,wght@0,700;1,700&amp;family=Fira+Sans:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&amp;family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet" type="text/css"></head><body><div id="clerk-static-app"></div><script>let viewer = nextjournal.clerk.sci_viewer
let app = nextjournal.clerk.static_app
let opts = viewer.read_string("{:paths [\"docs/meeting-intro.clj\" \"docs/xf-nets.clj\" \"docs/transducers.clj\" \"docs/meeting-outro.clj\"], :bundle? false, :out-path \"docs/build\", :path-prefix \"hassle/build/\", :path->doc {\"docs/xf-nets.clj\" {:nextjournal/value {:blocks [{:nextjournal/value \" # Transducer Nets\\n This notebook walks through the core library of functions used to define\\n transducer nets. It starts with the primitives: `net`, `input`, `node`, and `output`\\n and then covers the more advanced functions `join` and `embed`.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" ## `net` Function\\n `net` is always found at the end of a transducer net specification and it\\n converts that specification into a transducer. Also, `net` takes a label to\\n be associated with the net specification for documentation purposes.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" The smallest transducer net definable is an empty one:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def empty-net (net 'empty-net nil))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"<svg xmlns=\\\\\\\"http://www.w3.org/2000/svg\\\\\\\" xmlns:xlink=\\\\\\\"http://www.w3.org/1999/xlink\\\\\\\" height=\\\\\\\"41\\\\\\\" version=\\\\\\\"1.1\\\\\\\" viewBox=\\\\\\\"0 0 145 41\\\\\\\" width=\\\\\\\"145\\\\\\\"><rect fill=\\\\\\\"#ffffff\\\\\\\" height=\\\\\\\"41\\\\\\\" width=\\\\\\\"145\\\\\\\"/><ellipse cx=\\\\\\\"72\\\\\\\" cy=\\\\\\\"20\\\\\\\" fill=\\\\\\\"#eeeeee\\\\\\\" rx=\\\\\\\"72\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"white\\\\\\\" stroke-width=\\\\\\\"1.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"72\\\\\\\" y=\\\\\\\"25\\\\\\\">empty-net</tspan></text></svg>\\\", :nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}}\", :nextjournal/viewer {:name :html}}, :path []} {:nextjournal/value \" This is a proper transducer function that just ignores all input:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(sequence empty-net [1 2 3])\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}}\"}, :path []} {:nextjournal/value \"\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" In addition to being a transducer, net functions also may be called with\\n zero arguments and they return a normalized representation of the net:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(empty-net)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :label, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value empty-net, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-symbol.inspected-value x]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}}\", :nextjournal/viewer {:name :map}}, :path []} {:nextjournal/value \" ## `input` & `output` Functions\\n The next smallest transducer net has a single input and a single output\\n connected to each other:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def net-2\\n  (let [in (input :in)\\n        out (output :out in)]\\n    (net 'net-2 out)))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"<svg xmlns=\\\\\\\"http://www.w3.org/2000/svg\\\\\\\" xmlns:xlink=\\\\\\\"http://www.w3.org/1999/xlink\\\\\\\" height=\\\\\\\"133\\\\\\\" version=\\\\\\\"1.1\\\\\\\" viewBox=\\\\\\\"0 0 206 133\\\\\\\" width=\\\\\\\"206\\\\\\\"><rect fill=\\\\\\\"#ffffff\\\\\\\" height=\\\\\\\"133\\\\\\\" width=\\\\\\\"206\\\\\\\"/><ellipse cx=\\\\\\\"165\\\\\\\" cy=\\\\\\\"21\\\\\\\" fill=\\\\\\\"#eeeeee\\\\\\\" rx=\\\\\\\"40\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"white\\\\\\\" stroke-width=\\\\\\\"1.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"164\\\\\\\" y=\\\\\\\"26\\\\\\\">net-2</tspan></text><rect fill=\\\\\\\"orange\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"64\\\\\\\" x=\\\\\\\"1\\\\\\\" y=\\\\\\\"91\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"32\\\\\\\" y=\\\\\\\"116\\\\\\\">:out</tspan></text><rect fill=\\\\\\\"lightblue\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"48\\\\\\\" x=\\\\\\\"9\\\\\\\" y=\\\\\\\"1\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"33\\\\\\\" y=\\\\\\\"26\\\\\\\">:in</tspan></text><g><path d=\\\\\\\"M 33.0 90.0 L 28.5 81.0 L 33.0 83.25 L 37.5 81.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 33.0 42.0 L 33.0 47.5 Q 33.0 53.0 33.0 63.0 L 33.0 71.0 Q 33.0 79.0 33.0 85.0 L 33.0 91.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g></svg>\\\", :nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}}\", :nextjournal/viewer {:name :html}}, :path []} {:nextjournal/value \" Looking at this net's normalized representation is more interesting than\\n `empty-net`:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(net-2)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :input, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value [{:path [0 1 0 0], :nextjournal/value :in, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 0 1], :nextjournal/value [{:path [0 1 0 1 0], :nextjournal/value [{:path [0 1 0 1 0 0], :nextjournal/value :outputs, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 0 1 0 1], :nextjournal/value [{:path [0 1 0 1 0 1 0], :nextjournal/value [{:path [0 1 0 1 0 1 0 0], :nextjournal/value :output, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 0 1 0 1 0 1], :nextjournal/value :out, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\"}\\\" \\\"}\\\" \\\"}\\\"), :fetch-opts {:n 20}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"#{\\\", :fetch-opts {:n 20}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :label, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value net-2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-symbol.inspected-value x]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :output, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value [{:path [2 1 0 0], :nextjournal/value :out, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1 0 1], :nextjournal/value [{:path [2 1 0 1 0], :nextjournal/value [{:path [2 1 0 1 0 0], :nextjournal/value :inputs, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1 0 1 0 1], :nextjournal/value [{:path [2 1 0 1 0 1 0], :nextjournal/value [{:path [2 1 0 1 0 1 0 0], :nextjournal/value :input, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1 0 1 0 1 0 1], :nextjournal/value :in, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\"}\\\" \\\"}\\\" \\\"}\\\" \\\"}\\\"), :fetch-opts {:n 20}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"#{\\\", :fetch-opts {:n 20}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}}], :nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}}\", :nextjournal/viewer {:name :map}}, :path []} {:nextjournal/value \" ### Connectivity Properties\\n For a transducer net to be valid, there are two connectivity properties that\\n must be true:\\n 1. Each input is referenced by at least one output.\\n 2. Each output references at least one input.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" While it is possible to describe a net with unconnected inputs or outputs,\\n it won't work and may lose track of unconnected elements.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" ### Tagged Unions for IO\\n To use transducer nets, they expect a sequence of tagged unions or variants\\n as input and produce a sequence of tagged unions. A tagged union is just a\\n vector pair like: `[tag value]`. Additionally, a 'final' tagged union that\\n contains just the tag and no value is used to indicate the end of that\\n sequence of tagged unions: `[tag]`.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" In the case of `net-2`, it expects tagged unions with the tag `:in`\\n and will produce a sequence of tagged unions with the tag `:out`.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Here we feed `net-2` the following sequence of various values:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(sequence net-2 [[:in \\\"hello\\\"]      ;; âœ“ correct tag\\n                 [:wrong \\\"goodbye\\\"] ;; ðŸ—´ wrong tag\\n                 42                 ;; ðŸ—´ not a tagged union\\n                 [:in \\\"world\\\"]      ;; âœ“ correct tag\\n                 [:in]              ;; âœ“ final tag\\n                 [:in \\\"hello?\\\"]     ;; ðŸ—´ after final tag\\n                 nil])\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :out, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value \\\"hello\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :out, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value \\\"world\\\", :nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 100}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :out, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\")\\\"), :fetch-opts {:n 20}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :fetch-opts {:n 20}}}\"}, :path []} {:nextjournal/value \" ### Multiple Inputs\\n In the above example, the output was connected to a single input. To\\n connect an output to multiple inputs, a standard Clojure Set is used as in\\n this example:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(let [in-1 (input :in-1)\\n      in-2 (input :in-2)\\n\\n      out (output :out #{in-1 in-2})] ;; Use #{} to connect multiple inputs\\n  (net 'net-3 out))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"<svg xmlns=\\\\\\\"http://www.w3.org/2000/svg\\\\\\\" xmlns:xlink=\\\\\\\"http://www.w3.org/1999/xlink\\\\\\\" height=\\\\\\\"133\\\\\\\" version=\\\\\\\"1.1\\\\\\\" viewBox=\\\\\\\"0 0 332 133\\\\\\\" width=\\\\\\\"332\\\\\\\"><rect fill=\\\\\\\"#ffffff\\\\\\\" height=\\\\\\\"133\\\\\\\" width=\\\\\\\"332\\\\\\\"/><ellipse cx=\\\\\\\"291\\\\\\\" cy=\\\\\\\"21\\\\\\\" fill=\\\\\\\"#eeeeee\\\\\\\" rx=\\\\\\\"40\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"white\\\\\\\" stroke-width=\\\\\\\"1.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"290\\\\\\\" y=\\\\\\\"26\\\\\\\">net-3</tspan></text><rect fill=\\\\\\\"orange\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"64\\\\\\\" x=\\\\\\\"64\\\\\\\" y=\\\\\\\"91\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"95\\\\\\\" y=\\\\\\\"116\\\\\\\">:out</tspan></text><rect fill=\\\\\\\"lightblue\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"80\\\\\\\" x=\\\\\\\"1\\\\\\\" y=\\\\\\\"1\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"41\\\\\\\" y=\\\\\\\"26\\\\\\\">:in-1</tspan></text><g><path d=\\\\\\\"M 82.5 90.0 L 78.0 81.0 L 82.5 83.25 L 87.0 81.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 41.0 42.0 L 41.0 47.5 Q 41.0 53.0 49.47424215798642 58.309163761630046 L 74.02575784201358 73.69083623836995 Q 82.5 79.0 82.5 85.0 L 82.5 91.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><rect fill=\\\\\\\"lightblue\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"80\\\\\\\" x=\\\\\\\"111\\\\\\\" y=\\\\\\\"1\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"151\\\\\\\" y=\\\\\\\"26\\\\\\\">:in-2</tspan></text><g><path d=\\\\\\\"M 109.5 90.0 L 105.0 81.0 L 109.5 83.25 L 114.0 81.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 151.0 42.0 L 151.0 47.5 Q 151.0 53.0 142.52575784201358 58.309163761630046 L 117.97424215798642 73.69083623836995 Q 109.5 79.0 109.5 85.0 L 109.5 91.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g></svg>\\\", :nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}}\", :nextjournal/viewer {:name :html}}, :path []} {:nextjournal/value \" ### Multiple Outputs\\n Of course it is also possible to have multiple outputs connected to a single\\n input:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(let [in (input :in)\\n\\n      out-1 (output :out-1 in)\\n      out-2 (output :out-2 in)]\\n  (net 'net-4 #{out-1 out-2}))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"<svg xmlns=\\\\\\\"http://www.w3.org/2000/svg\\\\\\\" xmlns:xlink=\\\\\\\"http://www.w3.org/1999/xlink\\\\\\\" height=\\\\\\\"133\\\\\\\" version=\\\\\\\"1.1\\\\\\\" viewBox=\\\\\\\"0 0 364 133\\\\\\\" width=\\\\\\\"364\\\\\\\"><rect fill=\\\\\\\"#ffffff\\\\\\\" height=\\\\\\\"133\\\\\\\" width=\\\\\\\"364\\\\\\\"/><ellipse cx=\\\\\\\"323\\\\\\\" cy=\\\\\\\"21\\\\\\\" fill=\\\\\\\"#eeeeee\\\\\\\" rx=\\\\\\\"40\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"white\\\\\\\" stroke-width=\\\\\\\"1.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"322\\\\\\\" y=\\\\\\\"26\\\\\\\">net-4</tspan></text><rect fill=\\\\\\\"orange\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"96\\\\\\\" x=\\\\\\\"1\\\\\\\" y=\\\\\\\"91\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"48\\\\\\\" y=\\\\\\\"116\\\\\\\">:out-2</tspan></text><rect fill=\\\\\\\"orange\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"96\\\\\\\" x=\\\\\\\"127\\\\\\\" y=\\\\\\\"91\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"174\\\\\\\" y=\\\\\\\"116\\\\\\\">:out-1</tspan></text><rect fill=\\\\\\\"lightblue\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"48\\\\\\\" x=\\\\\\\"88\\\\\\\" y=\\\\\\\"1\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"112\\\\\\\" y=\\\\\\\"26\\\\\\\">:in</tspan></text><g><path d=\\\\\\\"M 49.0 90.0 L 44.5 81.0 L 49.0 83.25 L 53.5 81.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 102.5 42.0 L 102.5 47.5 Q 102.5 53.0 93.50586246503423 57.37098272727309 L 57.99413753496578 74.62901727272691 Q 49.0 79.0 49.0 85.0 L 49.0 91.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><g><path d=\\\\\\\"M 175.0 90.0 L 170.5 81.0 L 175.0 83.25 L 179.5 81.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 121.5 42.0 L 121.5 47.5 Q 121.5 53.0 130.49413753496577 57.37098272727309 L 166.00586246503423 74.62901727272691 Q 175.0 79.0 175.0 85.0 L 175.0 91.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g></svg>\\\", :nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}}\", :nextjournal/viewer {:name :html}}, :path []} {:nextjournal/value \" now net uses #{} to handle multiple outputs\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" ### Multiple Inputs & Outputs\\n Just for completeness, a transducer net with two inputs and two outputs:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(let [a (input :a)\\n      b (input :b)\\n\\n      c (output :c a)\\n      d (output :d #{a b})]\\n   (net 'net-5 #{c d}))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"<svg xmlns=\\\\\\\"http://www.w3.org/2000/svg\\\\\\\" xmlns:xlink=\\\\\\\"http://www.w3.org/1999/xlink\\\\\\\" height=\\\\\\\"133\\\\\\\" version=\\\\\\\"1.1\\\\\\\" viewBox=\\\\\\\"0 0 236 133\\\\\\\" width=\\\\\\\"236\\\\\\\"><rect fill=\\\\\\\"#ffffff\\\\\\\" height=\\\\\\\"133\\\\\\\" width=\\\\\\\"236\\\\\\\"/><ellipse cx=\\\\\\\"195\\\\\\\" cy=\\\\\\\"21\\\\\\\" fill=\\\\\\\"#eeeeee\\\\\\\" rx=\\\\\\\"40\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"white\\\\\\\" stroke-width=\\\\\\\"1.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"194\\\\\\\" y=\\\\\\\"26\\\\\\\">net-5</tspan></text><rect fill=\\\\\\\"orange\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"32\\\\\\\" x=\\\\\\\"63\\\\\\\" y=\\\\\\\"91\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"78\\\\\\\" y=\\\\\\\"116\\\\\\\">:d</tspan></text><rect fill=\\\\\\\"orange\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"32\\\\\\\" x=\\\\\\\"1\\\\\\\" y=\\\\\\\"91\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"17\\\\\\\" y=\\\\\\\"116\\\\\\\">:c</tspan></text><rect fill=\\\\\\\"lightblue\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"32\\\\\\\" x=\\\\\\\"1\\\\\\\" y=\\\\\\\"1\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"17\\\\\\\" y=\\\\\\\"26\\\\\\\">:a</tspan></text><g><path d=\\\\\\\"M 73.5 90.0 L 69.0 81.0 L 73.5 83.25 L 78.0 81.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 22.5 42.0 L 22.5 47.5 Q 22.5 53.0 31.409061469019804 57.54187447440225 L 64.5909385309802 74.45812552559775 Q 73.5 79.0 73.5 85.0 L 73.5 91.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><g><path d=\\\\\\\"M 17.0 90.0 L 12.5 81.0 L 17.0 83.25 L 21.5 81.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 11.5 42.0 L 11.5 47.5 Q 11.5 53.0 13.569585910443914 62.78349703118941 L 15.284792955221956 70.89174851559471 Q 17.0 79.0 17.0 85.0 L 17.0 91.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><rect fill=\\\\\\\"lightblue\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"32\\\\\\\" x=\\\\\\\"63\\\\\\\" y=\\\\\\\"1\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"78\\\\\\\" y=\\\\\\\"26\\\\\\\">:b</tspan></text><g><path d=\\\\\\\"M 84.5 90.0 L 80.0 81.0 L 84.5 83.25 L 89.0 81.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 79.0 42.0 L 79.0 47.5 Q 79.0 53.0 81.06958591044392 62.78349703118941 L 82.78479295522196 70.89174851559471 Q 84.5 79.0 84.5 85.0 L 84.5 91.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g></svg>\\\", :nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}}\", :nextjournal/viewer {:name :html}}, :path []} {:nextjournal/value \" ## `node` Function\\n The body of transducer nets is defined by calls to the `node` function. Each\\n call specifies the transducer for that node in the net. Each node is\\n considered to be both an input and output in terms of the two previously\\n mentioned connectivity properties. In other words, each node references at\\n least one input and is referenced by at least one output.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" ### Single Node Example\\n Here is a simple transducer net with a single node:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def net-6\\n  (let [in (input :in)\\n\\n        n1 (node (map inc) in)\\n\\n        out (output :out n1)]\\n    (net 'net-6 out)))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"<svg xmlns=\\\\\\\"http://www.w3.org/2000/svg\\\\\\\" xmlns:xlink=\\\\\\\"http://www.w3.org/1999/xlink\\\\\\\" height=\\\\\\\"223\\\\\\\" version=\\\\\\\"1.1\\\\\\\" viewBox=\\\\\\\"0 0 254 223\\\\\\\" width=\\\\\\\"254\\\\\\\"><rect fill=\\\\\\\"#ffffff\\\\\\\" height=\\\\\\\"223\\\\\\\" width=\\\\\\\"254\\\\\\\"/><ellipse cx=\\\\\\\"213\\\\\\\" cy=\\\\\\\"21\\\\\\\" fill=\\\\\\\"#eeeeee\\\\\\\" rx=\\\\\\\"40\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"white\\\\\\\" stroke-width=\\\\\\\"1.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"212\\\\\\\" y=\\\\\\\"26\\\\\\\">net-6</tspan></text><rect fill=\\\\\\\"orange\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"64\\\\\\\" x=\\\\\\\"25\\\\\\\" y=\\\\\\\"181\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"56\\\\\\\" y=\\\\\\\"206\\\\\\\">:out</tspan></text><ellipse cx=\\\\\\\"57\\\\\\\" cy=\\\\\\\"111\\\\\\\" fill=\\\\\\\"lightyellow\\\\\\\" rx=\\\\\\\"56\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"56\\\\\\\" y=\\\\\\\"116\\\\\\\">map inc</tspan></text><g><path d=\\\\\\\"M 57.0 180.0 L 52.5 171.0 L 57.0 173.25 L 61.5 171.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 57.0 132.0 L 57.0 137.5 Q 57.0 143.0 57.0 153.0 L 57.0 161.0 Q 57.0 169.0 57.0 175.0 L 57.0 181.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><rect fill=\\\\\\\"lightblue\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"48\\\\\\\" x=\\\\\\\"33\\\\\\\" y=\\\\\\\"1\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"57\\\\\\\" y=\\\\\\\"26\\\\\\\">:in</tspan></text><g><path d=\\\\\\\"M 57.0 90.0 L 52.5 81.0 L 57.0 83.25 L 61.5 81.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 57.0 42.0 L 57.0 47.5 Q 57.0 53.0 57.0 63.0 L 57.0 71.0 Q 57.0 79.0 57.0 85.0 L 57.0 91.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g></svg>\\\", :nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}}\", :nextjournal/viewer {:name :html}}, :path []} {:nextjournal/value \"(sequence net-6 [[:in 1] [:in 2] [:in 3]])\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :out, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value 2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :out, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value 3, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :out, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value 4, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :out, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\")\\\"), :fetch-opts {:n 20}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :fetch-opts {:n 20}}}\"}, :path []} {:nextjournal/value \" ### Multi-Node Example\\n Here is a more complex transducer with multiple nodes and multiple inputs:\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def net-7\\n  (let [untrusted (input :untrusted)\\n        trusted (input :trusted)\\n\\n        numbers (node (take-while number?) untrusted)\\n        odd-numbers (node (filter odd?) numbers)\\n        even-numbers (node (filter even?) numbers)\\n        region1-numbers (node (map inc) odd-numbers)\\n        region2-numbers (node identity even-numbers)\\n\\n        region1 (output :region1 #{region1-numbers trusted})\\n        region2 (output :region2 #{region2-numbers trusted})]\\n    (net 'net-7 #{region1 region2})))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"<svg xmlns=\\\\\\\"http://www.w3.org/2000/svg\\\\\\\" xmlns:xlink=\\\\\\\"http://www.w3.org/1999/xlink\\\\\\\" height=\\\\\\\"403\\\\\\\" version=\\\\\\\"1.1\\\\\\\" viewBox=\\\\\\\"0 0 570 403\\\\\\\" width=\\\\\\\"570\\\\\\\"><rect fill=\\\\\\\"#ffffff\\\\\\\" height=\\\\\\\"403\\\\\\\" width=\\\\\\\"570\\\\\\\"/><ellipse cx=\\\\\\\"529\\\\\\\" cy=\\\\\\\"21\\\\\\\" fill=\\\\\\\"#eeeeee\\\\\\\" rx=\\\\\\\"40\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"white\\\\\\\" stroke-width=\\\\\\\"1.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"528\\\\\\\" y=\\\\\\\"26\\\\\\\">net-7</tspan></text><rect fill=\\\\\\\"orange\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"128\\\\\\\" x=\\\\\\\"68\\\\\\\" y=\\\\\\\"361\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"132\\\\\\\" y=\\\\\\\"386\\\\\\\">:region1</tspan></text><rect fill=\\\\\\\"orange\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"128\\\\\\\" x=\\\\\\\"226\\\\\\\" y=\\\\\\\"361\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"290\\\\\\\" y=\\\\\\\"386\\\\\\\">:region2</tspan></text><rect fill=\\\\\\\"lightblue\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"128\\\\\\\" x=\\\\\\\"143\\\\\\\" y=\\\\\\\"271\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"207\\\\\\\" y=\\\\\\\"296\\\\\\\">:trusted</tspan></text><g><path d=\\\\\\\"M 161.5 360.0 L 157.0 351.0 L 161.5 353.25 L 166.0 351.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 177.5 312.0 L 177.5 317.5 Q 177.5 323.0 172.25902574335666 331.51658316704544 L 166.74097425664334 340.48341683295456 Q 161.5 349.0 161.5 355.0 L 161.5 361.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><g><path d=\\\\\\\"M 260.5 360.0 L 256.0 351.0 L 260.5 353.25 L 265.0 351.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 236.5 312.0 L 236.5 317.5 Q 236.5 323.0 243.28280102733066 330.3480344462749 L 253.71719897266934 341.6519655537251 Q 260.5 349.0 260.5 355.0 L 260.5 361.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><ellipse cx=\\\\\\\"57\\\\\\\" cy=\\\\\\\"291\\\\\\\" fill=\\\\\\\"lightyellow\\\\\\\" rx=\\\\\\\"56\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"56\\\\\\\" y=\\\\\\\"296\\\\\\\">map inc</tspan></text><g><path d=\\\\\\\"M 102.5 360.0 L 98.0 351.0 L 102.5 353.25 L 107.0 351.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 57.0 312.0 L 57.0 317.5 Q 57.0 323.0 65.68243142124459 327.96138938356836 L 93.81756857875541 344.03861061643164 Q 102.5 349.0 102.5 355.0 L 102.5 361.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><ellipse cx=\\\\\\\"104\\\\\\\" cy=\\\\\\\"201\\\\\\\" fill=\\\\\\\"lightyellow\\\\\\\" rx=\\\\\\\"88\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"104\\\\\\\" y=\\\\\\\"206\\\\\\\">filter odd?</tspan></text><g><path d=\\\\\\\"M 57.0 270.0 L 52.5 261.0 L 57.0 263.25 L 61.5 261.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 104.0 222.0 L 104.0 227.5 Q 104.0 233.0 95.2496595758225 237.84061385167266 L 65.7503404241775 254.15938614832734 Q 57.0 259.0 57.0 265.0 L 57.0 271.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><ellipse cx=\\\\\\\"365\\\\\\\" cy=\\\\\\\"291\\\\\\\" fill=\\\\\\\"lightyellow\\\\\\\" rx=\\\\\\\"64\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"365\\\\\\\" y=\\\\\\\"296\\\\\\\">identity</tspan></text><g><path d=\\\\\\\"M 319.5 360.0 L 315.0 351.0 L 319.5 353.25 L 324.0 351.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 365.0 312.0 L 365.0 317.5 Q 365.0 323.0 356.3175685787554 327.96138938356836 L 328.1824314212446 344.03861061643164 Q 319.5 349.0 319.5 355.0 L 319.5 361.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><ellipse cx=\\\\\\\"318\\\\\\\" cy=\\\\\\\"201\\\\\\\" fill=\\\\\\\"lightyellow\\\\\\\" rx=\\\\\\\"96\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"317\\\\\\\" y=\\\\\\\"206\\\\\\\">filter even?</tspan></text><g><path d=\\\\\\\"M 365.0 270.0 L 360.5 261.0 L 365.0 263.25 L 369.5 261.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 318.0 222.0 L 318.0 227.5 Q 318.0 233.0 326.7503404241775 237.84061385167266 L 356.24965957582253 254.15938614832734 Q 365.0 259.0 365.0 265.0 L 365.0 271.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><ellipse cx=\\\\\\\"212\\\\\\\" cy=\\\\\\\"111\\\\\\\" fill=\\\\\\\"lightyellow\\\\\\\" rx=\\\\\\\"144\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"212\\\\\\\" y=\\\\\\\"116\\\\\\\">take-while number?</tspan></text><g><path d=\\\\\\\"M 104.0 180.0 L 99.5 171.0 L 104.0 173.25 L 108.5 171.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 142.5 129.5163889307368 L 142.5 136.2581944653684 Q 142.5 143.0 134.2127611746405 148.59657686907397 L 112.28723882535952 163.40342313092603 Q 104.0 169.0 104.0 175.0 L 104.0 181.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><g><path d=\\\\\\\"M 318.0 180.0 L 313.5 171.0 L 318.0 173.25 L 322.5 171.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 281.5 129.5163889307368 L 281.5 136.2581944653684 Q 281.5 143.0 289.6448666185845 148.80182279679994 L 309.8551333814155 163.19817720320006 Q 318.0 169.0 318.0 175.0 L 318.0 181.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><rect fill=\\\\\\\"lightblue\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"160\\\\\\\" x=\\\\\\\"132\\\\\\\" y=\\\\\\\"1\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"212\\\\\\\" y=\\\\\\\"26\\\\\\\">:untrusted</tspan></text><g><path d=\\\\\\\"M 212.0 90.0 L 207.5 81.0 L 212.0 83.25 L 216.5 81.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 212.0 42.0 L 212.0 47.5 Q 212.0 53.0 212.0 63.0 L 212.0 71.0 Q 212.0 79.0 212.0 85.0 L 212.0 91.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g></svg>\\\", :nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}}\", :nextjournal/viewer {:name :html}}, :path []} {:nextjournal/value \"(sequence net-7 [[:untrusted 234]\\n                 [:untrusted 237]\\n                 [:untrusted 238]\\n                 [:trusted -6]\\n                 [:untrusted :wat]\\n                 [:untrusted 239]\\n                 [:trusted -8]])\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :region2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value 234, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :region1, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value 238, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :region2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value 238, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :region1, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1], :nextjournal/value -6, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value :region2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 1], :nextjournal/value -6, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value :region1, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [5 1], :nextjournal/value -8, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}} {:path [6], :nextjournal/value [{:path [6 0], :nextjournal/value :region2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [6 1], :nextjournal/value -8, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}} {:path [7], :nextjournal/value [{:path [7 0], :nextjournal/value :region1, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}} {:path [8], :nextjournal/value [{:path [8 0], :nextjournal/value :region2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\")\\\"), :fetch-opts {:n 20}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :fetch-opts {:n 20}}}\"}, :path []} {:nextjournal/value \" ## `join` Function\\n So far all connections have been independent. Values flowing into an output\\n from one connection is independent from values flowing in from other\\n connections.  `join` synchronizes values flowing across multiple\\n connections. First, `join` waits for at least one value to arrive on each\\n connection and, from that point on, will produce a vector containing the\\n latest value for each connection when a new value is sent on any connection.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def net-8\\n  (let [in-1 (input :in-1)\\n        in-2 (input :in-2)\\n\\n        a (join [in-1 in-2])\\n\\n        o (output :out a)]\\n    (net 'net-8 o)))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"<svg xmlns=\\\\\\\"http://www.w3.org/2000/svg\\\\\\\" xmlns:xlink=\\\\\\\"http://www.w3.org/1999/xlink\\\\\\\" height=\\\\\\\"313\\\\\\\" version=\\\\\\\"1.1\\\\\\\" viewBox=\\\\\\\"0 0 364 313\\\\\\\" width=\\\\\\\"364\\\\\\\"><rect fill=\\\\\\\"#ffffff\\\\\\\" height=\\\\\\\"313\\\\\\\" width=\\\\\\\"364\\\\\\\"/><ellipse cx=\\\\\\\"323\\\\\\\" cy=\\\\\\\"21\\\\\\\" fill=\\\\\\\"#eeeeee\\\\\\\" rx=\\\\\\\"40\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"white\\\\\\\" stroke-width=\\\\\\\"1.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"322\\\\\\\" y=\\\\\\\"26\\\\\\\">net-8</tspan></text><rect fill=\\\\\\\"orange\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"64\\\\\\\" x=\\\\\\\"80\\\\\\\" y=\\\\\\\"271\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"111\\\\\\\" y=\\\\\\\"296\\\\\\\">:out</tspan></text><ellipse cx=\\\\\\\"112\\\\\\\" cy=\\\\\\\"201\\\\\\\" fill=\\\\\\\"lightyellow\\\\\\\" rx=\\\\\\\"32\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"112\\\\\\\" y=\\\\\\\"206\\\\\\\">join</tspan></text><g><path d=\\\\\\\"M 112.0 270.0 L 107.5 261.0 L 112.0 263.25 L 116.5 261.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 112.0 222.0 L 112.0 227.5 Q 112.0 233.0 112.0 243.0 L 112.0 251.0 Q 112.0 259.0 112.0 265.0 L 112.0 271.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><ellipse cx=\\\\\\\"49\\\\\\\" cy=\\\\\\\"111\\\\\\\" fill=\\\\\\\"lightyellow\\\\\\\" rx=\\\\\\\"48\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"48\\\\\\\" y=\\\\\\\"116\\\\\\\">active</tspan></text><g><path d=\\\\\\\"M 98.5 181.86691990449498 L 94.0 172.86691990449498 L 98.5 175.11691990449498 L 103.0 172.86691990449498 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 49.0 132.0 L 49.0 137.5 Q 49.0 143.0 57.8530587561737 147.6500914678892 L 89.64694124382629 164.3499085321108 Q 98.5 169.0 98.5 175.9334599522475 L 98.5 182.86691990449498\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><rect fill=\\\\\\\"lightblue\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"80\\\\\\\" x=\\\\\\\"9\\\\\\\" y=\\\\\\\"1\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"49\\\\\\\" y=\\\\\\\"26\\\\\\\">:in-2</tspan></text><g><path d=\\\\\\\"M 49.0 90.0 L 44.5 81.0 L 49.0 83.25 L 53.5 81.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 49.0 42.0 L 49.0 47.5 Q 49.0 53.0 49.0 63.0 L 49.0 71.0 Q 49.0 79.0 49.0 85.0 L 49.0 91.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><ellipse cx=\\\\\\\"175\\\\\\\" cy=\\\\\\\"111\\\\\\\" fill=\\\\\\\"lightyellow\\\\\\\" rx=\\\\\\\"48\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"174\\\\\\\" y=\\\\\\\"116\\\\\\\">active</tspan></text><g><path d=\\\\\\\"M 125.5 181.86691990449498 L 121.0 172.86691990449498 L 125.5 175.11691990449498 L 130.0 172.86691990449498 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 175.0 132.0 L 175.0 137.5 Q 175.0 143.0 166.1469412438263 147.6500914678892 L 134.3530587561737 164.3499085321108 Q 125.5 169.0 125.5 175.9334599522475 L 125.5 182.86691990449498\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><rect fill=\\\\\\\"lightblue\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"80\\\\\\\" x=\\\\\\\"135\\\\\\\" y=\\\\\\\"1\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"175\\\\\\\" y=\\\\\\\"26\\\\\\\">:in-1</tspan></text><g><path d=\\\\\\\"M 175.0 90.0 L 170.5 81.0 L 175.0 83.25 L 179.5 81.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 175.0 42.0 L 175.0 47.5 Q 175.0 53.0 175.0 63.0 L 175.0 71.0 Q 175.0 79.0 175.0 85.0 L 175.0 91.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g></svg>\\\", :nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}}\", :nextjournal/viewer {:name :html}}, :path []} {:nextjournal/value \"(sequence net-8 [[:in-1 'a]\\n                 [:in-1 'b]\\n                 [:in-2 1]\\n                 [:in-1 'c]\\n                 [:in-2 2]])\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :out, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value b, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-symbol.inspected-value x]))}} {:path [0 1 1], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\"]\\\"), :fetch-opts {:n 20}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :fetch-opts {:n 20}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :out, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value c, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-symbol.inspected-value x]))}} {:path [1 1 1], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\"]\\\"), :fetch-opts {:n 20}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :fetch-opts {:n 20}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :out, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value c, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-symbol.inspected-value x]))}} {:path [2 1 1], :nextjournal/value 2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\"]\\\"), :fetch-opts {:n 20}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :fetch-opts {:n 20}}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value :out, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\")\\\"), :fetch-opts {:n 20}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :fetch-opts {:n 20}}}\"}, :path []} {:nextjournal/value \" ### `passive` Joins\\n In the previous example, a value arriving on either connection caused `join`\\n to produce a new vector. When calling `join`, some of the inputs may be\\n wrapped using `passive`. Values flowing through passive connections will not\\n cause `join` to produce a vector. Marking all inputs as `passive` will cause\\n `join` to never emit a value.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def net-9\\n  (let [in-1 (input :in-1)\\n        in-2 (input :in-2)\\n\\n        a (join [(passive in-1) in-2])\\n\\n        o (output :out a)]\\n    (net 'net-9 o)))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"<svg xmlns=\\\\\\\"http://www.w3.org/2000/svg\\\\\\\" xmlns:xlink=\\\\\\\"http://www.w3.org/1999/xlink\\\\\\\" height=\\\\\\\"313\\\\\\\" version=\\\\\\\"1.1\\\\\\\" viewBox=\\\\\\\"0 0 380 313\\\\\\\" width=\\\\\\\"380\\\\\\\"><rect fill=\\\\\\\"#ffffff\\\\\\\" height=\\\\\\\"313\\\\\\\" width=\\\\\\\"380\\\\\\\"/><ellipse cx=\\\\\\\"339\\\\\\\" cy=\\\\\\\"21\\\\\\\" fill=\\\\\\\"#eeeeee\\\\\\\" rx=\\\\\\\"40\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"white\\\\\\\" stroke-width=\\\\\\\"1.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"338\\\\\\\" y=\\\\\\\"26\\\\\\\">net-9</tspan></text><rect fill=\\\\\\\"orange\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"64\\\\\\\" x=\\\\\\\"90\\\\\\\" y=\\\\\\\"271\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"121\\\\\\\" y=\\\\\\\"296\\\\\\\">:out</tspan></text><ellipse cx=\\\\\\\"122\\\\\\\" cy=\\\\\\\"201\\\\\\\" fill=\\\\\\\"lightyellow\\\\\\\" rx=\\\\\\\"32\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"122\\\\\\\" y=\\\\\\\"206\\\\\\\">join</tspan></text><g><path d=\\\\\\\"M 122.0 270.0 L 117.5 261.0 L 122.0 263.25 L 126.5 261.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 122.0 222.0 L 122.0 227.5 Q 122.0 233.0 122.0 243.0 L 122.0 251.0 Q 122.0 259.0 122.0 265.0 L 122.0 271.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><ellipse cx=\\\\\\\"57\\\\\\\" cy=\\\\\\\"111\\\\\\\" fill=\\\\\\\"lightyellow\\\\\\\" rx=\\\\\\\"56\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"57\\\\\\\" y=\\\\\\\"116\\\\\\\">passive</tspan></text><g><path d=\\\\\\\"M 108.5 181.86691990449498 L 104.0 172.86691990449498 L 108.5 175.11691990449498 L 113.0 172.86691990449498 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 57.0 132.0 L 57.0 137.5 Q 57.0 143.0 65.92687099516345 147.50676982280098 L 99.57312900483655 164.49323017719902 Q 108.5 169.0 108.5 175.9334599522475 L 108.5 182.86691990449498\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><rect fill=\\\\\\\"lightblue\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"80\\\\\\\" x=\\\\\\\"17\\\\\\\" y=\\\\\\\"1\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"57\\\\\\\" y=\\\\\\\"26\\\\\\\">:in-1</tspan></text><g><path d=\\\\\\\"M 57.0 90.0 L 52.5 81.0 L 57.0 83.25 L 61.5 81.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 57.0 42.0 L 57.0 47.5 Q 57.0 53.0 57.0 63.0 L 57.0 71.0 Q 57.0 79.0 57.0 85.0 L 57.0 91.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><ellipse cx=\\\\\\\"191\\\\\\\" cy=\\\\\\\"111\\\\\\\" fill=\\\\\\\"lightyellow\\\\\\\" rx=\\\\\\\"48\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"190\\\\\\\" y=\\\\\\\"116\\\\\\\">active</tspan></text><g><path d=\\\\\\\"M 135.5 181.86691990449498 L 131.0 172.86691990449498 L 135.5 175.11691990449498 L 140.0 172.86691990449498 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 191.0 132.0 L 191.0 137.5 Q 191.0 143.0 181.94443111742714 147.24224848552961 L 144.55556888257286 164.75775151447039 Q 135.5 169.0 135.5 175.9334599522475 L 135.5 182.86691990449498\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><rect fill=\\\\\\\"lightblue\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"80\\\\\\\" x=\\\\\\\"151\\\\\\\" y=\\\\\\\"1\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"191\\\\\\\" y=\\\\\\\"26\\\\\\\">:in-2</tspan></text><g><path d=\\\\\\\"M 191.0 90.0 L 186.5 81.0 L 191.0 83.25 L 195.5 81.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 191.0 42.0 L 191.0 47.5 Q 191.0 53.0 191.0 63.0 L 191.0 71.0 Q 191.0 79.0 191.0 85.0 L 191.0 91.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g></svg>\\\", :nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}}\", :nextjournal/viewer {:name :html}}, :path []} {:nextjournal/value \"(sequence net-9 [[:in-1 'a]\\n                 [:in-1 'b]\\n                 [:in-2 1]\\n                 [:in-1 'c]\\n                 [:in-2 2]])\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :out, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value b, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-symbol.inspected-value x]))}} {:path [0 1 1], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\"]\\\"), :fetch-opts {:n 20}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :fetch-opts {:n 20}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :out, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value c, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-symbol.inspected-value x]))}} {:path [1 1 1], :nextjournal/value 2, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\"]\\\"), :fetch-opts {:n 20}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :fetch-opts {:n 20}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :out, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\")\\\"), :fetch-opts {:n 20}}}], :nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :fetch-opts {:n 20}}}\"}, :path []} {:nextjournal/value \" ## `embed` Function\\n The last function provided in the core API provides a way to define new\\n transducer nets using previously defined nets. `embed` takes a map\\n associating inputs to the input tags found in the embedded net and it\\n returns a map of output tags to outputs. Once `embed` is complete, the\\n inputs and outputs of the embedded net are replaced with direct connections\\n to nodes in the new net.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def net-10\\n  (let [in-a (input :in-a)\\n        in-b (input :in-b)\\n\\n        {a :region1\\n         b :region2} (embed net-7\\n                            {:trusted in-a\\n                             :untrusted in-b})\\n\\n        c (node (map str) b)\\n\\n        out-a (output :out-a a)\\n        out-b (output :out-b b)\\n        debug (output :debug c)]\\n\\n    (net 'net-10 #{out-a out-b debug})))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"<svg xmlns=\\\\\\\"http://www.w3.org/2000/svg\\\\\\\" xmlns:xlink=\\\\\\\"http://www.w3.org/1999/xlink\\\\\\\" height=\\\\\\\"493\\\\\\\" version=\\\\\\\"1.1\\\\\\\" viewBox=\\\\\\\"0 0 556 493\\\\\\\" width=\\\\\\\"556\\\\\\\"><rect fill=\\\\\\\"#ffffff\\\\\\\" height=\\\\\\\"493\\\\\\\" width=\\\\\\\"556\\\\\\\"/><ellipse cx=\\\\\\\"507\\\\\\\" cy=\\\\\\\"21\\\\\\\" fill=\\\\\\\"#eeeeee\\\\\\\" rx=\\\\\\\"48\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"white\\\\\\\" stroke-width=\\\\\\\"1.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"506\\\\\\\" y=\\\\\\\"26\\\\\\\">net-10</tspan></text><rect fill=\\\\\\\"orange\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"96\\\\\\\" x=\\\\\\\"152\\\\\\\" y=\\\\\\\"451\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"200\\\\\\\" y=\\\\\\\"476\\\\\\\">:debug</tspan></text><ellipse cx=\\\\\\\"200\\\\\\\" cy=\\\\\\\"381\\\\\\\" fill=\\\\\\\"lightyellow\\\\\\\" rx=\\\\\\\"56\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"199\\\\\\\" y=\\\\\\\"386\\\\\\\">map str</tspan></text><g><path d=\\\\\\\"M 200.0 450.0 L 195.5 441.0 L 200.0 443.25 L 204.5 441.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 200.0 402.0 L 200.0 407.5 Q 200.0 413.0 200.0 423.0 L 200.0 431.0 Q 200.0 439.0 200.0 445.0 L 200.0 451.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><rect fill=\\\\\\\"orange\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"96\\\\\\\" x=\\\\\\\"286\\\\\\\" y=\\\\\\\"361\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"333\\\\\\\" y=\\\\\\\"386\\\\\\\">:out-b</tspan></text><rect fill=\\\\\\\"orange\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"96\\\\\\\" x=\\\\\\\"18\\\\\\\" y=\\\\\\\"361\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"66\\\\\\\" y=\\\\\\\"386\\\\\\\">:out-a</tspan></text><rect fill=\\\\\\\"lightblue\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"80\\\\\\\" x=\\\\\\\"152\\\\\\\" y=\\\\\\\"271\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"191\\\\\\\" y=\\\\\\\"296\\\\\\\">:in-a</tspan></text><g><path d=\\\\\\\"M 174.5 362.19382272974934 L 170.0 353.19382272974934 L 174.5 355.44382272974934 L 179.0 353.19382272974934 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 192.0 312.0 L 192.0 318.5 Q 192.0 325.0 186.10827842550557 333.0800753021638 L 180.30413921275277 341.0400376510819 Q 174.5 349.0 174.5 356.0969113648747 L 174.5 363.19382272974934\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><g><path d=\\\\\\\"M 312.5 360.0 L 308.0 351.0 L 312.5 353.25 L 317.0 351.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 215.33333333333334 312.0 L 215.33333333333334 317.5 Q 215.33333333333334 323.0 224.99347907832086 325.58487604840144 L 302.8398542550125 346.41512395159856 Q 312.5 349.0 312.5 355.0 L 312.5 361.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><g><path d=\\\\\\\"M 87.5 360.0 L 83.0 351.0 L 87.5 353.25 L 92.0 351.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 168.66666666666666 312.0 L 168.66666666666666 317.5 Q 168.66666666666666 323.0 159.1433338369228 326.0505953212321 L 97.02333282974384 345.9494046787679 Q 87.5 349.0 87.5 355.0 L 87.5 361.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><ellipse cx=\\\\\\\"66\\\\\\\" cy=\\\\\\\"291\\\\\\\" fill=\\\\\\\"lightyellow\\\\\\\" rx=\\\\\\\"56\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"65\\\\\\\" y=\\\\\\\"296\\\\\\\">map inc</tspan></text><g><path d=\\\\\\\"M 44.5 360.0 L 40.0 351.0 L 44.5 353.25 L 49.0 351.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 66.0 312.0 L 66.0 317.5 Q 66.0 323.0 59.627356402046956 330.706452723106 L 50.872643597953044 341.293547276894 Q 44.5 349.0 44.5 355.0 L 44.5 361.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><ellipse cx=\\\\\\\"89\\\\\\\" cy=\\\\\\\"201\\\\\\\" fill=\\\\\\\"lightyellow\\\\\\\" rx=\\\\\\\"88\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"89\\\\\\\" y=\\\\\\\"206\\\\\\\">filter odd?</tspan></text><g><path d=\\\\\\\"M 66.0 270.0 L 61.5 261.0 L 66.0 263.25 L 70.5 261.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 89.0 222.0 L 89.0 227.5 Q 89.0 233.0 82.37426117796971 240.48996562490382 L 72.62573882203029 251.5100343750962 Q 66.0 259.0 66.0 265.0 L 66.0 271.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><ellipse cx=\\\\\\\"326\\\\\\\" cy=\\\\\\\"291\\\\\\\" fill=\\\\\\\"lightyellow\\\\\\\" rx=\\\\\\\"64\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"326\\\\\\\" y=\\\\\\\"296\\\\\\\">identity</tspan></text><g><path d=\\\\\\\"M 225.5 362.19382272974934 L 221.0 353.19382272974934 L 225.5 355.44382272974934 L 230.0 353.19382272974934 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 296.5 309.7486520174773 L 296.5 316.37432600873865 Q 296.5 323.0 287.10981275042275 326.4386601195635 L 234.89018724957728 345.5613398804365 Q 225.5 349.0 225.5 356.0969113648747 L 225.5 363.19382272974934\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><g><path d=\\\\\\\"M 355.5 360.0 L 351.0 351.0 L 355.5 353.25 L 360.0 351.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 355.5 309.7486520174773 L 355.5 316.37432600873865 Q 355.5 323.0 355.5 333.0 L 355.5 341.0 Q 355.5 349.0 355.5 355.0 L 355.5 361.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><ellipse cx=\\\\\\\"303\\\\\\\" cy=\\\\\\\"201\\\\\\\" fill=\\\\\\\"lightyellow\\\\\\\" rx=\\\\\\\"96\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"302\\\\\\\" y=\\\\\\\"206\\\\\\\">filter even?</tspan></text><g><path d=\\\\\\\"M 326.0 270.0 L 321.5 261.0 L 326.0 263.25 L 330.5 261.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 303.0 222.0 L 303.0 227.5 Q 303.0 233.0 309.6257388220303 240.48996562490382 L 319.3742611779697 251.51003437509618 Q 326.0 259.0 326.0 265.0 L 326.0 271.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><ellipse cx=\\\\\\\"197\\\\\\\" cy=\\\\\\\"111\\\\\\\" fill=\\\\\\\"lightyellow\\\\\\\" rx=\\\\\\\"144\\\\\\\" ry=\\\\\\\"20\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"197\\\\\\\" y=\\\\\\\"116\\\\\\\">take-while number?</tspan></text><g><path d=\\\\\\\"M 89.0 180.0 L 84.5 171.0 L 89.0 173.25 L 93.5 171.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 127.5 129.5163889307368 L 127.5 136.2581944653684 Q 127.5 143.0 119.21276117464048 148.59657686907397 L 97.28723882535952 163.40342313092603 Q 89.0 169.0 89.0 175.0 L 89.0 181.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><g><path d=\\\\\\\"M 303.0 180.0 L 298.5 171.0 L 303.0 173.25 L 307.5 171.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 266.5 129.5163889307368 L 266.5 136.2581944653684 Q 266.5 143.0 274.6448666185845 148.80182279679994 L 294.8551333814155 163.19817720320006 Q 303.0 169.0 303.0 175.0 L 303.0 181.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g><rect fill=\\\\\\\"lightblue\\\\\\\" height=\\\\\\\"40\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\" width=\\\\\\\"80\\\\\\\" x=\\\\\\\"157\\\\\\\" y=\\\\\\\"1\\\\\\\"/><text fill=\\\\\\\"black\\\\\\\" font-decoration=\\\\\\\"none\\\\\\\" font-family=\\\\\\\"Arial,Helvetica\\\\\\\" font-size=\\\\\\\"16\\\\\\\" font-weight=\\\\\\\"normal\\\\\\\" text-anchor=\\\\\\\"middle\\\\\\\"><tspan x=\\\\\\\"197\\\\\\\" y=\\\\\\\"26\\\\\\\">:in-b</tspan></text><g><path d=\\\\\\\"M 197.0 90.0 L 192.5 81.0 L 197.0 83.25 L 201.5 81.0 z\\\\\\\" fill=\\\\\\\"black\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/><path d=\\\\\\\"M 197.0 42.0 L 197.0 47.5 Q 197.0 53.0 197.0 63.0 L 197.0 71.0 Q 197.0 79.0 197.0 85.0 L 197.0 91.0\\\\\\\" fill=\\\\\\\"none\\\\\\\" stroke=\\\\\\\"black\\\\\\\" stroke-width=\\\\\\\"2.0\\\\\\\"/></g></svg>\\\", :nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}}\", :nextjournal/viewer {:name :html}}, :path []}], :title \"Transducer Nets\"}, :nextjournal/viewer :clerk/notebook, :scope {:namespace :user}}}, :path->url {\"docs/meeting-intro.clj\" \"docs/meeting-intro.html\", \"docs/xf-nets.clj\" \"docs/xf-nets.html\", \"docs/transducers.clj\" \"docs/transducers.html\", \"docs/meeting-outro.clj\" \"docs/meeting-outro.html\"}, :current-path \"docs/xf-nets.clj\"}")
app.init(opts)
</script></body></html>